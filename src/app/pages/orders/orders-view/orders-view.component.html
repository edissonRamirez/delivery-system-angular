<div class="header bg-gradient-primary pb-8 pt-5 pt-md-8"></div>

<div class="container-fluid mt--7">
  <div class="row">
    <div class="col">

      <div class="card shadow">

        <!-- ENCABEZADO -->
        <div class="card-header border-0 d-flex justify-content-between align-items-center">
          <h3 class="mb-0">{{ customerName }}'s Orders</h3>

          <button class="btn btn-outline-primary" (click)="onBack()">
            ← Regresar
          </button>
        </div>

        <!-- BODY -->
        <div class="card-body">

          <!-- LOADING -->
          <div *ngIf="loading" class="text-center py-5">
            <div class="spinner-border text-primary"></div>
            <p class="mt-3">Cargando órdenes...</p>
          </div>

          <!-- EMPTY -->
          <div *ngIf="!loading && orders.length === 0" class="text-center py-5">
            <h4 class="text-muted">No hay órdenes registradas.</h4>
          </div>

          <!-- TABLE -->
          <div *ngIf="!loading && orders.length > 0" class="table-responsive mt-4">

            <table class="table table-bordered align-items-center">
              <thead class="thead-light">
                <tr>
                  <th>Restaurante</th>
                  <th>Precio</th>
                  <th>Categoría</th>
                  <th>Disponibilidad</th>
                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let order of orders">

                  <!-- RESTAURANT NAME -->
                  <td>{{ order.menu?.restaurant?.name }}</td>

                  <!-- PRICE -->
                  <td>
                    {{ order.menu?.price | currency:'COP':'symbol':'1.0-0' }}
                  </td>

                  <!-- CATEGORY -->
                  <td>{{ order.menu?.product?.category }}</td>

                  <!-- AVAILABILITY -->
                  <td>
                    <span class="badge px-3 py-2 text-white"
                          [ngClass]="order.menu?.availability ? 'badge-success' : 'badge-danger'">
                      {{ order.menu?.availability ? 'Disponible' : 'Agotado' }}
                    </span>
                  </td>

                </tr>
              </tbody>
            </table>

          </div>

        </div>

      </div>

    </div>
  </div>
</div>
